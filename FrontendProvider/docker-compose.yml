version: "3.7"
services:
  frontend_provider:
    restart: always
    build:
      # use env variables during docker-compose build 
      # https://stackoverflow.com/questions/52429984/docker-compose-build-environment-variable
      context: .
      args:
        - WEATHER_SERVICE_URL=${WEATHER_SERVICE_URL}
        - WEATHER_SERVICE_KEY=${WEATHER_SERVICE_KEY}
        - GROCERY_CART_URL=${GROCERY_CART_URL}
        - GROCERY_CART_KEY=${GROCERY_CART_KEY}
        - TASKS_MANAGER_URL=${TASKS_MANAGER_URL}
        - TASKS_MANAGER_KEY=${TASKS_MANAGER_KEY}
    container_name: frontend_provider
    environment:
      WEATHER_SERVICE_URL: ${WEATHER_SERVICE_URL}
      WEATHER_SERVICE_KEY: ${WEATHER_SERVICE_KEY}
      GROCERY_CART_URL: ${GROCERY_CART_URL}
      GROCERY_CART_KEY: ${GROCERY_CART_KEY}
      TASKS_MANAGER_URL: ${TASKS_MANAGER_URL}
      TASKS_MANAGER_KEY: ${TASKS_MANAGER_KEY}
    ports:
      - '8910:8910'
